
--[[
--  ä½œè€…:Steven 
--  æ—¥æœŸ:2017-05-23
--  æ–‡ä»¶å:dice.lua
--  ç‰ˆæƒè¯´æ˜Ž:å—äº¬æ­£æº¯ç½‘ç»œç§‘æŠ€æœ‰é™å…¬å¸.ç‰ˆæƒæ‰€æœ‰Â©copy right.
--  éª°å®æ¸¸æˆçŽ©æ³•çš„å®šä¹‰ä¸Žå°è£…
--  å…³äºŽå¡žå­çš„ç›¸å…³å®šä¹‰ä¸Žçº¦æŸ

--]]


local Dice = require "game.dice.dice"


--[[
	_TaiSai çš„ç»“æž„åŒ…å«å¦‚ä¸‹æ•°æ®

	_TaiSai = {
		totalPoints = 0,	-- å½“å‰ä¸‰ä¸ªéª°å­çš„ç‚¹æ•°
		dices = {},			-- éª°å­çš„æ•°ç»„,åŒ…å«ä¸‰ä¸ªéª°å­çš„å¯¹è±¡
		diceTypeResMap = {},		-- éª°å­çš„ç»“æž„å¯¹è±¡ åŒ…å«å½“å‰ç‰Œçš„æ˜¯å¦ä¸ºè±¹å­,å¤§æˆ–è€…å°,æˆ–è€…å…¶ä»–æŠ¼æ³¨çš„ç±»åž‹
		-- ä¸‰å†›å‡ºçŽ°çš„æ•°é‡
		pointNum = {},
	} 
]]

local _TaiSai = {}
_TaiSai.__index = _TaiSai
--  éª°å®ä½¿ç”¨3ä¸ªéª°å­è¿›è¡Œæ¸¸æˆ
local _TaiSai.DICENUM = 3

--  éª°å®çš„æŠ¼æ³¨ç±»åž‹
--[[
ä¸€ç‚¹  ace
äºŒç‚¹  deuce
ä¸‰ç‚¹  trey
å››ç‚¹  cater
äº”ç‚¹  cinque
å…­ç‚¹  sice
]]
local DICE_BET_TYPE = { 
	SHAI_ACE = 1 ,		-- 1ç‚¹çš„ è±¹å­
	SHAI_DEUCE = 2 ,
	SHAI_TREY = 3 ,
	SHAI_CATER = 4 ,
	SHAI_CINQUE = 5 ,
	SHAI_SICE = 6 , 
	THREE_KIND = 7 ,		--	3 é¢—éª°å­éƒ½ä¸€æ ·1 èµ” 24

	BIG = 8,			--  å¤§ : æ€»ç‚¹æ•° 11 è‡³ 17 ( é‡å›´éª°åº„å®¶é€šåƒ )	1 èµ” 1
	SMALL = 9 ,			--	å° : æ€»ç‚¹æ•°ä¸º 4 è‡³ 10 ( é‡å›´éª°åº„å®¶é€šåƒ )1 èµ” 1
	DOUBLE = 10,			--  åŒ 1:1 æ€»ç‚¹æ•°ä¸º 5, 7, 9, 11, 13, 15, 17 ç‚¹ ( é‡å›´éª°åº„å®¶é€šåƒ )
	SINGLE = 11,			--	å• 1:1	4, 6, 8, 10, 12, 14, 16 ç‚¹ ( é‡å›´éª°åº„å®¶é€šåƒ )
	WEI_SHAI = 12,  	--	æŠ•æ³¨æŒ‡å®šçš„å›´éª° ( å¦‚ 1 å›´éª° ) ï¼Œä¸€å®šå¼€å‡º 3 é¢—æ‰€æŠ•æ³¨çš„éª°å­ 1 èµ” 150

	--ä¸‹æ³¨åœ¨å•ä¸€ä¸ªç‚¹æ•° ( ä¸‰å†› )
	POINT_ONE = 13 ,	-- 	å‡ºçŽ°å•éª°æŠ•æ³¨æ¯é¢—éª°å­ 1 è‡³ 6 ä¸­æŒ‡å®šçš„ç‚¹æ•°ï¼Œç‚¹æ•°å‡ºçŽ° 1 æ¬¡ 1 èµ” 1
	POINT_TWO = 14 ,	--	å‡ºçŽ°åŒéª°æŠ•æ³¨æ¯é¢—éª°å­ 1 è‡³ 6 ä¸­æŒ‡å®šçš„ç‚¹æ•°ï¼Œç‚¹æ•°å‡ºçŽ° 2 æ¬¡ 1 èµ” 2
	POINT_THREE = 15 ,	--	å‡ºçŽ°å…¨éª°æŠ•æ³¨æ¯é¢—éª°å­ 1 è‡³ 6 ä¸­æŒ‡å®šçš„ç‚¹æ•°ï¼Œç‚¹æ•°å‡ºçŽ° 3 æ¬¡ 1 èµ” 3
	POINT_FOUR = 16 ,
	POINT_FIVE = 17 ,
	POINT_SIX = 18 ,   

	TWO_PAIRE = 19,		-- å¯¹å­ ( åŒéª°ã€é•¿ç‰Œ )æŠ•æ³¨æŒ‡å®šçš„åŒéª° ( å¦‚åŒ 1 ç‚¹ ) ï¼Œè‡³å°‘å¼€å‡º 2 é¢—æ‰€æŠ•æ³¨çš„éª°å­1 èµ” 8 
	PAI_JIU	= 20,		-- ç‰Œä¹å¼ ( éª¨ç‰Œã€çŸ­ç‰Œ )æŠ•æ³¨ 15 ç§ 2 é¢—éª°å­å¯èƒ½å‡ºçŽ°çš„ç»„åˆ ( å¦‚ 1 ï¼Œ 2)1 èµ” 5
	--ç‚¹æ•°æ€»å’Œ
	POINT_4 = 21,	-- æ€»å’Œä¸º 4 æˆ– 17 ç‚¹ 1 èµ” 50
	POINT_5 = 22,	-- æ€»å’Œä¸º 5 æˆ– 16 ç‚¹ 1 èµ” 18
	POINT_6 = 23,	-- æ€»å’Œä¸º 6 æˆ– 15 ç‚¹ 1 èµ” 14
	POINT_7 = 24,	-- æ€»å’Œä¸º 7 æˆ– 14 ç‚¹ 1 èµ” 12
	POINT_8 = 25,	-- æ€»å’Œä¸º 8 æˆ– 13 ç‚¹ 1 èµ” 8
	POINT_9 = 26,	-- æ€»å’Œä¸º 9 ï¼Œ 10 ï¼Œ 11 æˆ– 12 ç‚¹ 1 èµ” 
	POINT_10 = 27,	-- æ€»å’Œä¸º 9 ï¼Œ 10 ï¼Œ 11 æˆ– 12 ç‚¹ 1 èµ” 
	POINT_11 = 28,	-- æ€»å’Œä¸º 9 ï¼Œ 10 ï¼Œ 11 æˆ– 12 ç‚¹ 1 èµ” 
	POINT_12 = 29,	-- æ€»å’Œä¸º 9 ï¼Œ 10 ï¼Œ 11 æˆ– 12 ç‚¹ 1 èµ” 
	POINT_13 = 30,	-- æ€»å’Œä¸º 8 æˆ– 13 ç‚¹ 1 èµ” 8
	POINT_14 = 31,	-- æ€»å’Œä¸º 7 æˆ– 14 ç‚¹ 1 èµ” 12
	POINT_15 = 32,	-- æ€»å’Œä¸º 6 æˆ– 15 ç‚¹ 1 èµ” 14
	POINT_16 = 33,	-- æ€»å’Œä¸º 5 æˆ– 16 ç‚¹ 1 èµ” 18
	POINT_17 = 34,	-- æ€»å’Œä¸º 4 æˆ– 17 ç‚¹ 1 èµ” 50

}
-- æŠ¼æ³¨ç±»åž‹çš„key name
local DICE_BET_TYPE_MAP = { 
	"SHAI_ACE",		-- 1ç‚¹çš„ è±¹å­
	"SHAI_DEUCE" ,
	"SHAI_TREY" ,
	"SHAI_CATER" ,
	"SHAI_CINQUE" ,
	"SHAI_SICE" , 
	"THREE_KIND" ,		--	3 é¢—éª°å­éƒ½ä¸€æ ·1 èµ” 24

	"BIG",			--  å¤§ : æ€»ç‚¹æ•° 11 è‡³ 17 ( é‡å›´éª°åº„å®¶é€šåƒ )	1 èµ” 1
	"SMALL" ,			--	å° : æ€»ç‚¹æ•°ä¸º 4 è‡³ 10 ( é‡å›´éª°åº„å®¶é€šåƒ )1 èµ” 1
	"DOUBLE",			--  åŒ 1:1 æ€»ç‚¹æ•°ä¸º 5, 7, 9, 11, 13, 15, 17 ç‚¹ ( é‡å›´éª°åº„å®¶é€šåƒ )
	"SINGLE",			--	å• 1:1	4, 6, 8, 10, 12, 14, 16 ç‚¹ ( é‡å›´éª°åº„å®¶é€šåƒ )
	"WEI_SHAI",  	--	æŠ•æ³¨æŒ‡å®šçš„å›´éª° ( å¦‚ 1 å›´éª° ) ï¼Œä¸€å®šå¼€å‡º 3 é¢—æ‰€æŠ•æ³¨çš„éª°å­ 1 èµ” 150

	--ä¸‹æ³¨åœ¨å•ä¸€ä¸ªç‚¹æ•° ( ä¸‰å†› )
	"POINT_ONE" ,	-- 	å‡ºçŽ°å•éª°æŠ•æ³¨æ¯é¢—éª°å­ 1 è‡³ 6 ä¸­æŒ‡å®šçš„ç‚¹æ•°ï¼Œç‚¹æ•°å‡ºçŽ° 1 æ¬¡ 1 èµ” 1
	"POINT_TWO" ,	--	å‡ºçŽ°åŒéª°æŠ•æ³¨æ¯é¢—éª°å­ 1 è‡³ 6 ä¸­æŒ‡å®šçš„ç‚¹æ•°ï¼Œç‚¹æ•°å‡ºçŽ° 2 æ¬¡ 1 èµ” 2
	"POINT_THREE" ,	--	å‡ºçŽ°å…¨éª°æŠ•æ³¨æ¯é¢—éª°å­ 1 è‡³ 6 ä¸­æŒ‡å®šçš„ç‚¹æ•°ï¼Œç‚¹æ•°å‡ºçŽ° 3 æ¬¡ 1 èµ” 3
	"POINT_FOUR" ,
	"POINT_FIVE" ,
	"POINT_SIX" ,   

	"TWO_PAIRE",		-- å¯¹å­ ( åŒéª°ã€é•¿ç‰Œ )æŠ•æ³¨æŒ‡å®šçš„åŒéª° ( å¦‚åŒ 1 ç‚¹ ) ï¼Œè‡³å°‘å¼€å‡º 2 é¢—æ‰€æŠ•æ³¨çš„éª°å­1 èµ” 8 
	"PAI_JIU",		-- ç‰Œä¹å¼ ( éª¨ç‰Œã€çŸ­ç‰Œ )æŠ•æ³¨ 15 ç§ 2 é¢—éª°å­å¯èƒ½å‡ºçŽ°çš„ç»„åˆ ( å¦‚ 1 ï¼Œ 2)1 èµ” 5
	--ç‚¹æ•°æ€»å’Œ
	"POINT_4",	-- æ€»å’Œä¸º 4 æˆ– 17 ç‚¹ 1 èµ” 50
	"POINT_5",	-- æ€»å’Œä¸º 5 æˆ– 16 ç‚¹ 1 èµ” 18
	"POINT_6",	-- æ€»å’Œä¸º 6 æˆ– 15 ç‚¹ 1 èµ” 14
	"POINT_7",	-- æ€»å’Œä¸º 7 æˆ– 14 ç‚¹ 1 èµ” 12
	"POINT_8",	-- æ€»å’Œä¸º 8 æˆ– 13 ç‚¹ 1 èµ” 8
	"POINT_9",	-- æ€»å’Œä¸º 9 ï¼Œ 10 ï¼Œ 11 æˆ– 12 ç‚¹ 1 èµ” 
	"POINT_10",	-- æ€»å’Œä¸º 9 ï¼Œ 10 ï¼Œ 11 æˆ– 12 ç‚¹ 1 èµ” 
	"POINT_11",	-- æ€»å’Œä¸º 9 ï¼Œ 10 ï¼Œ 11 æˆ– 12 ç‚¹ 1 èµ” 
	"POINT_12",	-- æ€»å’Œä¸º 9 ï¼Œ 10 ï¼Œ 11 æˆ– 12 ç‚¹ 1 èµ” 
	"POINT_13",	-- æ€»å’Œä¸º 8 æˆ– 13 ç‚¹ 1 èµ” 8
	"POINT_14",	-- æ€»å’Œä¸º 7 æˆ– 14 ç‚¹ 1 èµ” 12
	"POINT_15",	-- æ€»å’Œä¸º 6 æˆ– 15 ç‚¹ 1 èµ” 14
	"POINT_16",	-- æ€»å’Œä¸º 5 æˆ– 16 ç‚¹ 1 èµ” 18
	"POINT_17",	-- æ€»å’Œä¸º 4 æˆ– 17 ç‚¹ 1 èµ” 50

}

local DICE_BET_ODDS = { 
	SHAI_ACE = 180 ,		-- æŠ•æ³¨æŒ‡å®šçš„å›´éª° ( å¦‚ 1 å›´éª° ) ï¼Œä¸€å®šå¼€å‡º 3 é¢—æ‰€æŠ•æ³¨çš„éª°å­ 1 èµ” 180
	SHAI_DEUCE = 180,
	SHAI_TREY = 180 ,
	SHAI_CATER = 180 ,
	SHAI_CINQUE = 180 ,
	SHAI_SICE = 180 , 
	THREE_KIND = 24 ,		--	3 é¢—éª°å­éƒ½ä¸€æ ·1 èµ” 24

	BIG = 1,			--  å¤§ : æ€»ç‚¹æ•° 11 è‡³ 17 ( é‡å›´éª°åº„å®¶é€šåƒ )	1 èµ” 1
	SMALL = 1 ,			--	å° : æ€»ç‚¹æ•°ä¸º 4 è‡³ 10 ( é‡å›´éª°åº„å®¶é€šåƒ )1 èµ” 1
	DOUBLE = 1,			--  åŒ 1:1 æ€»ç‚¹æ•°ä¸º 5, 7, 9, 11, 13, 15, 17 ç‚¹ ( é‡å›´éª°åº„å®¶é€šåƒ )
	SINGLE = 1,			--	å• 1:1	4, 6, 8, 10, 12, 14, 16 ç‚¹ ( é‡å›´éª°åº„å®¶é€šåƒ )
	WEI_SHAI = 12,  	--	æŠ•æ³¨æŒ‡å®šçš„å›´éª° ( å¦‚ 1 å›´éª° ) ï¼Œä¸€å®šå¼€å‡º 3 é¢—æ‰€æŠ•æ³¨çš„éª°å­ 1 èµ” 150

	--ä¸‹æ³¨åœ¨å•ä¸€ä¸ªç‚¹æ•° ( ä¸‰å†› )
	POINT_ONE = 1 ,	-- 	å‡ºçŽ°å•éª°æŠ•æ³¨æ¯é¢—éª°å­ 1 è‡³ 6 ä¸­æŒ‡å®šçš„ç‚¹æ•°ï¼Œç‚¹æ•°å‡ºçŽ° 1 æ¬¡ 1 èµ” 1
	POINT_TWO = 2 ,	--	å‡ºçŽ°åŒéª°æŠ•æ³¨æ¯é¢—éª°å­ 1 è‡³ 6 ä¸­æŒ‡å®šçš„ç‚¹æ•°ï¼Œç‚¹æ•°å‡ºçŽ° 2 æ¬¡ 1 èµ” 2
	POINT_THREE = 3 ,	--	å‡ºçŽ°å…¨éª°æŠ•æ³¨æ¯é¢—éª°å­ 1 è‡³ 6 ä¸­æŒ‡å®šçš„ç‚¹æ•°ï¼Œç‚¹æ•°å‡ºçŽ° 3 æ¬¡ 1 èµ” 3
	POINT_FOUR = 16 ,
	POINT_FIVE = 17 ,
	POINT_SIX = 18 ,   

	TWO_PAIRE = 8,		-- å¯¹å­ ( åŒéª°ã€é•¿ç‰Œ )æŠ•æ³¨æŒ‡å®šçš„åŒéª° ( å¦‚åŒ 1 ç‚¹ ) ï¼Œè‡³å°‘å¼€å‡º 2 é¢—æ‰€æŠ•æ³¨çš„éª°å­1 èµ” 8 
	PAI_JIU	= 5,		-- ç‰Œä¹å¼ ( éª¨ç‰Œã€çŸ­ç‰Œ )æŠ•æ³¨ 15 ç§ 2 é¢—éª°å­å¯èƒ½å‡ºçŽ°çš„ç»„åˆ ( å¦‚ 1 ï¼Œ 2)1 èµ” 5
	--ç‚¹æ•°æ€»å’Œ
	POINT_4 = 50,	-- æ€»å’Œä¸º 4 æˆ– 17 ç‚¹ 1 èµ” 50
	POINT_5 = 18,	-- æ€»å’Œä¸º 5 æˆ– 16 ç‚¹ 1 èµ” 18
	POINT_6 = 14,	-- æ€»å’Œä¸º 6 æˆ– 15 ç‚¹ 1 èµ” 14
	POINT_7 = 12,	-- æ€»å’Œä¸º 7 æˆ– 14 ç‚¹ 1 èµ” 12
	POINT_8 = 8,	-- æ€»å’Œä¸º 8 æˆ– 13 ç‚¹ 1 èµ” 8
	POINT_9 = 1,	-- æ€»å’Œä¸º 9 ï¼Œ 10 ï¼Œ 11 æˆ– 12 ç‚¹ 1 èµ” 
	POINT_10 = 1,	-- æ€»å’Œä¸º 9 ï¼Œ 10 ï¼Œ 11 æˆ– 12 ç‚¹ 1 èµ” 
	POINT_11 = 1,	-- æ€»å’Œä¸º 9 ï¼Œ 10 ï¼Œ 11 æˆ– 12 ç‚¹ 1 èµ” 
	POINT_12 = 1,	-- æ€»å’Œä¸º 9 ï¼Œ 10 ï¼Œ 11 æˆ– 12 ç‚¹ 1 èµ” 
	POINT_13 = 8,	-- æ€»å’Œä¸º 8 æˆ– 13 ç‚¹ 1 èµ” 8
	POINT_14 = 12,	-- æ€»å’Œä¸º 7 æˆ– 14 ç‚¹ 1 èµ” 12
	POINT_15 = 14,	-- æ€»å’Œä¸º 6 æˆ– 15 ç‚¹ 1 èµ” 14
	POINT_16 = 18,	-- æ€»å’Œä¸º 5 æˆ– 16 ç‚¹ 1 èµ” 18
	POINT_17 = 50,	-- æ€»å’Œä¸º 4 æˆ– 17 ç‚¹ 1 èµ” 50 
}



_TaiSai.DICE_BET_TYPE = DICE_BET_TYPE
--  éª°å­çš„ç»„åˆç±»åž‹å®šä¹‰
local DICE_TYPE = {
	SMALL = 1,			-- 	éª°å­çš„ç»„åˆ, å°
	BIG = 2,			--	å¤§
	THREE_KIND = 3,		--	è±¹å­,éƒ½æ˜¯è±¹å­çš„æƒ…å†µå•ç‹¬æ¯”ç‚¹
}

--[[
	é‡ç½®å½“å‰éª°å®ç³»ç»Ÿçš„å„ç±»è®°å½•æ•°æ®
]]
function _TaiSai:reset()
	self.totalPoints = 0
	for i=1,table.getn(DICE_BET_TYPE_MAP) do
		local keyStr = DICE_BET_TYPE_MAP[i]
		diceTypeResMap[keyStr] = false
	end

end

--[[
-- åˆ›å»ºä¸€å‰¯éª°å®æ¸¸æˆ,å…¶ä¸­åŒ…å«ä¸‰ä¸ªéª°å­,æ¯å±€è¿›è¡Œä¸€æ¬¡åªéª°å­,æ ¹æ®éª°å­çš„æ ·å¼å’Œç‚¹æ•°è¿›è¡Œç»“æžœæ¯”å¯¹
-- æ€»ç‚¹æ•°ä¸º4è‡³10ç§°ä½œå°ï¼Œ11è‡³17ä¸ºå¤§ï¼Œå›´éª°é™¤å¤–
-- example
    local taisai = require "game.tai_sai.tai_sai":new()
    local result = taisai:deal() 
-- @param  æ— 
-- @return å½“å‰ç»“æžœæ•°ç»„
--]]
function _TaiSai:deal()
	-- é¦–å…ˆåªéª°å­æ¯ä¸€ä¸ªéª°å­çš„ç»“æžœ,ç„¶åŽå¯¹æ¯”éª°å­çš„ç±»åž‹å’Œç‚¹æ•°ç­‰
	local totalPoints = 0
	local bzMap = {}
	local pointType = 0
	for i=1,3 do
		local dice = self.dices[i]
		dice:deal()
		if not bzMap[""..dice.curPoint] then
			bzMap[""..dice.curPoint] = 0 
			pointType = pointType + 1
		end
		bzMap[""..dice.curPoint] = bzMap[""..dice.curPoint] + 1
		totalPoints = totalPoints + dice.curPoint;
	end

	if pointType == 1 then
		-- è±¹å­
		self.diceTypeResMap[DICE_BET_TYPE_MAP[self.dices[1].curPoint]] = true
		self.diceTypeResMap.THREE_KIND = true
	elseif pointType == 2
		-- å¯¹å­
		self.diceTypeResMap.TWO_PAIRE = true
	end
	-- æ€»ç‚¹æ•°
	self.totalPoints = totalPoints 
	-- è¿”å›žå½“å‰çš„å„ç§çŠ¶æ€,æœ‰æ•ˆçš„ä¸ºtrue
	-- åˆ¤æ–­å½“å‰ç‚¹æ•° æ˜¯å¦ä¸ºå¤§
	if self.totalPoints >= 11 and self.totalPoints =< 17 then
		self.diceTypeResMap.BIG = true
	end
	-- åˆ¤æ–­å½“å‰ç‚¹æ•°  æ˜¯å¦ä¸ºå°
	if self.totalPoints >= 4 and self.totalPoints <= 10 then
		self.diceTypeResMap.SMALL = true
	end

	-- åˆ¤æ–­æ˜¯å¦ä¸ºåŒ
	if self.totalPoints % 2 == 0 then
		self.diceTypeResMap.DOUBLE = true
	else
		self.diceTypeResMap.SINGLE = true
	end

	-- åˆ¤æ–­ä¸‰å†›
	for k,v in pairs(bzMap[""..dice.curPoint]) do
		local _point = tonumber(k)
		self.pointNum[_point] = v 								-- ä¸€å…±æœ‰å‡ å†›
		self.diceTypeResMap[DICE_BET_TYPE_MAP[12+_point]] = true	-- çŒœä¸­çš„å†›ç‚¹
	end

	-- çŒœæ€»å’Œç‚¹æ•°çš„çŠ¶æ€åˆ¤æ–­
	self.diceTypeResMap[DICE_BET_TYPE_MAP[17+totalPoints]] = true
 
end

--[[
-- åˆ›å»ºä¸€å‰¯éª°å®æ¸¸æˆ,å…¶ä¸­åŒ…å«ä¸‰ä¸ªéª°å­,æ¯å±€è¿›è¡Œä¸€æ¬¡åªéª°å­,æ ¹æ®éª°å­çš„æ ·å¼å’Œç‚¹æ•°è¿›è¡Œç»“æžœæ¯”å¯¹
-- æ€»ç‚¹æ•°ä¸º4è‡³10ç§°ä½œå°ï¼Œ11è‡³17ä¸ºå¤§ï¼Œå›´éª°é™¤å¤–
-- example
    local taisai = require "game.tai_sai.tai_sai":new()
    local result = taisai:deal() 
-- @param   
-- @return  è¿”å›žéª°å®æ¸¸æˆå¯¹è±¡
--]]
function _TaiSai:new()
	local taisai = setmetatable({}, _TaiSai)
	-- éª°å­æ•°ç»„ åˆ›å»ºä¸‰ä¸ªðŸŽ²
	taisai.dices  = {}
	for i=1,self.DICENUM do
		taisai.dices[i] = Dice:new()
	end
	self.diceTypeResMap = {}
	for i=1,table.getn(DICE_BET_TYPE_MAP) do
		local keyStr = DICE_BET_TYPE_MAP[i]
		diceTypeResMap[keyStr] = false
	end
	self.pointNum = {}
	for i=1,6 do
		self.pointNum[i] = 0
	end 
end

return _TaiSai
